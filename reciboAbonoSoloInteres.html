<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=60mm, initial-scale=1.0"> <!-- Cambia el ancho de la vista para el papel de 58mm -->
    <title>Recibo de Abono</title>
    <style>
        body {
            font-family: tahoma, Helvetica, sans-serif; /* Ajuste de fuente */
            margin: 0;
            padding: 0;
            text-align: center;
            font-size: 3mm; /* Tamaño de letra similar al primer código */
        }

        .recibo {
            max-width: 60mm; /* Ancho máximo similar al primer código */
            margin: auto; /* Centrar en la página */
        }

        .header, .footer, .items, .totals {
            text-align: center;
            font-weight: bold;
        }

        .details {
            text-align: left;
            font-weight: bold;
        }

        .header img {
            max-width: 50mm; /* Ajusta el tamaño de la imagen para que se ajuste al ancho de la impresora térmica */
        }

        .header p, .footer p, .signature p {
            margin: 0;
            padding: 1mm 0; /* Margen y padding similar al primer código */
        }

        .items {
            border-top: 1px dashed #000;
            padding-top: 2mm;
            margin-top: 2mm;
            border-top: 1px dashed #000;
            
        }



        .totals {
            border-top: 1px dashed #000;
            padding-top: 1mm;
            margin-top: 2mm;
        }

        .lastTotal {
            font-size: 3mm;
            text-align: center;
            font-weight: bold;
        }

        .totalsizquierdo {
            border-top: 1px dashed #000;
            padding-top: 1mm;
            margin-top: 2mm;
            text-align: right;
            font-size: 3mm;
        }

        .totals td {
            text-align: center;
            font-size: 3mm; /* Tamaño de letra ajustado */
        }

        .totals .label {
            text-align: left;
        }

        .totals .labela {
            text-align: left;
        }

        .creditos {
            display: none;
            padding-top: 2mm;
            margin-top: 2mm;
        }

        .items th, .items td {
            text-align: left;
            font-size: 3mm; /* Tamaño de letra ajustado */
        }

        .items .pro{
            text-align: right;
            font-size: 3mm; /* Tamaño de letra ajustado */
        }



        .items th {
            font-weight: bold;
        }



        

        .signature {
            text-align: center;
            margin-top: 5mm;
            font-weight: bold;
        }


    </style>
</head>

<body onload="window.print()" onfocus="window.close()">



    <script>
        // Obtener los parámetros de la URL
        const params = new URLSearchParams(window.location.search);

        var idLogo = params.has('idLogo') ? params.get('idLogo') : "17cXW3U50L2cL4xE4lGaF1iIahY01UhAD&sz=w1000";

        //valores datos de la factura
        var noPrestamo = params.has('noPrestamo') ? params.get('noPrestamo') : "noPrestamo";
        var noCuota = params.has('noCuota') ? params.get('noCuota') : "noCuota";
        var usuarioRecibe = params.has('usuarioRecibe') ? params.get('usuarioRecibe') : "usuarioRecibe";
        var clienteEntrega= params.has('clienteEntrega') ? params.get('clienteEntrega') : "clienteEntrega";

        var fecha = params.has('fecha') ? params.get('fecha') : "fecha";
        var hora = params.has('hora') ? params.get('hora') : "hora";

        var capitalAnterior = params.has('capitalAnterior') ? params.get('capitalAnterior') : "0.00";
        var montoRecibido = params.has('montoRecibido') ? params.get('montoRecibido') : "0.00";
        var abonoCapital = params.has('abonoCapital') ? params.get('abonoCapital') : "0.00";
        var abonoInteres = params.has('abonoInteres') ? params.get('abonoInteres') : "0.00";
        var capitalActual = params.has('capitalActual') ? params.get('capitalActual') : "0.00";

        
        capitalAnterior = parseFloat(capitalAnterior).toLocaleString('en-US', { minimumFractionDigits: 2 });
        abonoCapital = parseFloat(abonoCapital).toLocaleString('en-US', { minimumFractionDigits: 2 });
        abonoInteres = parseFloat(abonoInteres).toLocaleString('en-US', { minimumFractionDigits: 2 });
        montoRecibido = parseFloat(montoRecibido).toLocaleString('en-US', { minimumFractionDigits: 2 });
        capitalActual = parseFloat(capitalActual).toLocaleString('en-US', { minimumFractionDigits: 2 });

        
    </script>
    <div class="recibo">
        <div class="header">
            <img id="imagenLogo" src="https://drive.google.com/thumbnail?id=17cXW3U50L2cL4xE4lGaF1iIahY01UhAD&sz=w1000" width="1000" height="100" alt="Logo">
            </br>
            </br>
            <p>RECIBO DE PAGO</p>
        </div>
        
        <div class="details">
            <p id="noPrestamo"></p>
            <p id="noCuota"></p>
            <p id="fecha">Fecha: </p>
            <p id="hora">Hora: </p>
        </div>      

        </br>
        </br>


        <div class="lastTotal">
            <p id="tituloAbono" >PAGO</p>        
            <p id="montoRecibido" ></p>           
            <p id="abonoInteres" ></p>        
            <p id="capitalActual" ></p>          
        </div>
        

        </br>
        </br>
        </br>


        


        
        <div id="signature" class="signature">
            <p>_______________________________________</p>
            <p id="usuarioRecibe"></p>
            </br>
            </br>
            </br>
            </br>
            </br>
            </br>
            </br>
            <p>_______________________________________</p>
              <p id="clienteEntrega"></p>
        </div>
    </div>  


    
    <script>

        var elemento30= document.getElementById('imagenLogo').src ='https://drive.google.com/thumbnail?id=' + idLogo;

        
        // Valores encabezado despues del logo
        var elemento1=document.getElementById("noPrestamo").textContent = "Prestamo No. #" + noPrestamo
        var elemento1=document.getElementById("noCuota").textContent = "Cuota No. " + noCuota
        var elemento2=document.getElementById("usuarioRecibe").textContent ="Recibe: " + usuarioRecibe 
        var elemento2=document.getElementById("clienteEntrega").textContent ="Entrega: " + clienteEntrega 
        var elemento4=document.getElementById("fecha").textContent = "Fecha: " + fecha 
        var elemento5=document.getElementById("hora").textContent = "Hora: " + hora

        //valores datos de la factura
        var elemento12=document.getElementById("montoRecibido").textContent = "Monto Recibido: " + montoRecibido
        var elemento13=document.getElementById("abonoInteres").textContent = "Abono Interes: " + abonoInteres
        var elemento14=document.getElementById("capitalActual").textContent = "Capital Actual: " + capitalActual

    </script>

</body>
</html>
